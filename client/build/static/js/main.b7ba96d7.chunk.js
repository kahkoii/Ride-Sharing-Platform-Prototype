(this["webpackJsonpride-sharing-platform"]=this["webpackJsonpride-sharing-platform"]||[]).push([[0],{50:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(25),c=a.n(r),i=a(6),l=a(3),o=a(2),j=a(4),d=a.n(j),b=a(7),m=a(11),h=a.n(m),u="http://localhost:5001/api/v1/passenger",p="http://localhost:5002/api/v1/driver",g=function(){var e=Object(b.a)(d.a.mark((function e(t,a,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"post",url:("passenger"===t?u:p)+"/session",headers:{"Content-Type":"application/json"},data:JSON.stringify({email:a,phone:s})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"delete",url:("passenger"===a?u:p)+"/session?token="+t});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"get",url:("passenger"===a?u:p)+"/session?token="+t});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"post",url:("passenger"===t?u:p)+"/account",headers:{"Content-Type":"application/json"},data:JSON.stringify(a)});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"get",url:("passenger"===t?u:p)+"/account?token="+a,headers:{"Content-Type":"application/json"}});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(d.a.mark((function e(t,a,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"put",url:("passenger"===t?u:p)+"/account?token="+a,headers:{"Content-Type":"application/json"},data:JSON.stringify(s)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"delete",url:("passenger"===t?u:p)+"/account?token="+a});case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"get",url:u+"/history?token="+t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=a(5);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var H=s.createElement("path",{d:"M194.5 123V132.5H252L258.5 119.5H255L245.758 109.5H207.5L194.5 123Z",fill:"#BEBEBE"}),I=s.createElement("path",{d:"M244.678 136.5H202.306L203.765 139H243.218L244.678 136.5Z",fill:"#80FF00"}),M=s.createElement("path",{d:"M236.138 143H210.368L211.697 145.5H234.72L236.138 143Z",fill:"#80FF00"}),P=s.createElement("path",{d:"M244.5 114H202.5L198.25 118.5L194 123V133H252M244.5 114L252 123M244.5 114L247 110.5M252 123V133M252 123L254.5 118.5M252 133L259 119M201.5 136H245.5L243.5 139.5H203.5L201.5 136ZM209.5 142.5H237L235 146H211.5L209.5 142.5Z",stroke:"black"}),D=s.createElement("path",{d:"M202.5 114L207.5 109",stroke:"black"}),V=s.createElement("path",{d:"M93.5 123V132.5H151L157.5 119.5L154.5 117L145 109H106L93.5 123Z",fill:"#BEBEBE"}),E=s.createElement("path",{d:"M143.678 136.5H101.306L102.765 139H142.218L143.678 136.5Z",fill:"#80FF00"}),S=s.createElement("path",{d:"M135.138 143H109.368L110.697 145.5H133.72L135.138 143Z",fill:"#80FF00"}),F=s.createElement("path",{d:"M143.5 114H101.5L97.25 118.5L93 123V133H151M143.5 114L151 123M143.5 114L146.5 110M151 123V133M151 123L154.5 116.5M151 133L158 119M100.5 136H144.5L142.5 139.5H102.5L100.5 136ZM108.5 142.5H136L134 146H110.5L108.5 142.5Z",stroke:"black"}),Z=s.createElement("path",{d:"M101.5 114L106.5 109",stroke:"black"}),q=s.createElement("path",{d:"M138 1H246L272 38H337V67L309 119H255L246 109H198L189 119H157L145 109H101L95.5 114L90 119H25L1 85L57 38H97.6364L138 1Z",fill:"#30C8EA"}),T=s.createElement("path",{d:"M246 1H138L97.6364 38M246 1L272 38M246 1L215 45M272 38H337M272 38L269.511 42.5M337 38L309 85M337 38V67L309 119M309 85V119M309 85H246M309 119H255L246 109H198L189 119H157L145 109H101L95.5 114L90 119H25L1 85M246 85L215 45M246 85L249.596 78.5M215 45H90M90 45L57 85H1M90 45L97.6364 38M1 85L57 38H97.6364M249.596 78.5L226.5 47.5L249.596 14.5L269.511 42.5M249.596 78.5L269.511 42.5",stroke:"black"}),R=s.createElement("path",{d:"M313 91.5V85L334 48.5V56M313 91.5L334 56M313 91.5V98.75M334 56V61.75M313 98.75V106L334 67.5V61.75M313 98.75L334 61.75",stroke:"black"}),A=s.createElement("path",{d:"M249.5 15L227 47.5L249.5 78L269 42.5L249.5 15Z",fill:"white"}),B=s.createElement("path",{d:"M100.328 60.344V74.12C100.328 74.632 100.44 75 100.664 75.224C100.92 75.448 101.464 75.56 102.296 75.56H105.848V80.12H99.752C97.928 80.12 96.456 79.928 95.336 79.544C94.248 79.16 93.432 78.488 92.888 77.528C92.376 76.536 92.04 75.48 91.88 74.36C91.752 73.24 91.688 71.736 91.688 69.848C91.688 67.928 91.752 66.472 91.88 65.48C92.04 64.488 92.376 63.56 92.888 62.696C93.432 61.832 94.248 61.224 95.336 60.872C96.456 60.52 97.928 60.344 99.752 60.344H100.328ZM107.768 75.56H108.344C109.72 75.56 110.776 75.592 111.512 75.656C112.28 75.688 113.016 75.832 113.72 76.088C114.424 76.312 114.904 76.584 115.16 76.904C115.448 77.224 115.704 77.784 115.928 78.584C116.184 79.352 116.328 80.184 116.36 81.08C116.392 81.976 116.408 83.256 116.408 84.92C116.408 86.584 116.392 87.912 116.36 88.904C116.328 89.864 116.184 90.792 115.928 91.688C115.704 92.552 115.448 93.16 115.16 93.512C114.904 93.864 114.424 94.184 113.72 94.472C113.016 94.728 112.28 94.888 111.512 94.952C110.776 94.984 109.72 95 108.344 95H107.768V75.56ZM92.36 84.296H98.408C98.856 84.296 99.128 84.36 99.224 84.488C99.32 84.616 99.368 84.888 99.368 85.304V89.048C99.368 89.56 99.432 89.928 99.56 90.152C99.72 90.344 100.088 90.44 100.664 90.44H105.848V95H98.792C96.456 95 94.68 94.6 93.464 93.8C92.28 93 91.688 91.608 91.688 89.624V85.304C91.688 84.632 91.912 84.296 92.36 84.296ZM102.248 60.296H108.344C110.68 60.296 112.44 60.696 113.624 61.496C114.84 62.296 115.448 63.688 115.448 65.672V69.992C115.448 70.664 115.224 71 114.776 71H108.728C108.28 71 108.008 70.936 107.912 70.808C107.816 70.68 107.768 70.408 107.768 69.992V66.248C107.768 65.736 107.688 65.384 107.528 65.192C107.4 64.968 107.048 64.856 106.472 64.856H102.248V60.296ZM130.137 71H136.857C140.345 71 142.089 72.712 142.089 76.136V95H136.617C136.105 95 135.689 94.824 135.369 94.472C135.049 94.12 134.889 93.656 134.889 93.08V76.04C134.889 75.528 134.761 75.16 134.505 74.936C134.281 74.712 133.753 74.6 132.921 74.6H130.137V71ZM121.737 60.296H124.665C126.073 60.296 127.129 60.648 127.833 61.352C128.569 62.024 128.937 62.904 128.937 63.992V95H123.465C122.953 95 122.537 94.824 122.217 94.472C121.897 94.12 121.737 93.656 121.737 93.08V60.296ZM152.701 71H158.461C158.653 71 158.749 71.112 158.749 71.336V74.264C158.749 74.488 158.621 74.6 158.365 74.6H156.205C155.437 74.6 154.989 74.744 154.861 75.032C154.733 75.448 154.669 75.912 154.669 76.424V91.304C154.669 92.392 154.301 93.288 153.565 93.992C152.861 94.664 151.805 95 150.397 95H147.469V76.328C147.469 74.44 147.885 73.08 148.717 72.248C149.581 71.416 150.909 71 152.701 71ZM162.425 71.048H165.353C166.761 71.048 167.817 71.4 168.521 72.104C169.257 72.776 169.625 73.656 169.625 74.744V95H164.153C163.641 95 163.225 94.824 162.905 94.472C162.585 94.12 162.425 93.656 162.425 93.08V71.048ZM162.761 60.824C163.113 60.472 164.137 60.296 165.833 60.296C167.529 60.296 168.553 60.472 168.905 60.824C169.257 61.144 169.433 62.104 169.433 63.704C169.433 65.304 169.241 66.28 168.857 66.632C168.505 66.984 167.497 67.16 165.833 67.16C164.169 67.16 163.145 66.984 162.761 66.632C162.409 66.28 162.233 65.304 162.233 63.704C162.233 62.104 162.409 61.144 162.761 60.824ZM186.792 74.6H184.2C183.368 74.6 182.824 74.712 182.568 74.936C182.344 75.16 182.232 75.528 182.232 76.04V90.008C182.232 90.488 182.344 90.84 182.568 91.064C182.824 91.288 183.368 91.4 184.2 91.4H186.792V95H182.136C178.968 95 177.016 94.456 176.28 93.368C175.928 92.856 175.64 92.36 175.416 91.88C175.224 91.4 175.096 90.648 175.032 89.624C174.872 87.768 174.792 85.704 174.792 83.432C174.792 81.16 174.808 79.528 174.84 78.536C174.872 77.512 174.968 76.488 175.128 75.464C175.32 74.408 175.56 73.656 175.848 73.208C176.136 72.728 176.568 72.296 177.144 71.912C177.72 71.528 178.392 71.288 179.16 71.192C179.928 71.064 180.92 71 182.136 71H186.792V74.6ZM188.232 60.296H191.16C192.568 60.296 193.624 60.648 194.328 61.352C195.064 62.024 195.432 62.904 195.432 63.992V91.304C195.432 92.392 195.064 93.288 194.328 93.992C193.624 94.664 192.568 95 191.16 95H188.232V60.296ZM208.06 95H207.964C204.796 95 202.844 94.456 202.108 93.368C201.756 92.856 201.468 92.36 201.244 91.88C201.052 91.4 200.924 90.648 200.86 89.624C200.7 87.768 200.62 85.704 200.62 83.432C200.62 81.16 200.636 79.528 200.668 78.536C200.7 77.512 200.796 76.488 200.956 75.464C201.148 74.408 201.388 73.656 201.676 73.208C201.964 72.728 202.396 72.296 202.972 71.912C203.548 71.528 204.22 71.288 204.988 71.192C205.756 71.064 206.748 71 207.964 71H208.06V95ZM220.828 87.416V89.864C220.828 93.288 219.084 95 215.596 95H209.548V91.4H212.14C212.812 91.4 213.228 91.304 213.388 91.112C213.548 90.888 213.628 90.504 213.628 89.96V88.424C213.628 87.944 213.676 87.672 213.772 87.608C213.9 87.544 213.98 87.512 214.012 87.512C214.044 87.48 214.124 87.464 214.252 87.464C214.412 87.432 214.524 87.416 214.588 87.416C216.668 87.416 218.748 87.416 220.828 87.416ZM209.548 71H215.116C217.324 71 218.828 71.432 219.628 72.296C220.428 73.16 220.828 74.44 220.828 76.136V80.36C220.828 83.24 219.26 84.68 216.124 84.68H209.068V81.08H211.66C212.428 81.08 212.94 80.984 213.196 80.792C213.484 80.6 213.628 80.232 213.628 79.688V76.04C213.628 75.496 213.548 75.128 213.388 74.936C213.228 74.712 212.812 74.6 212.14 74.6H209.548V71Z",fill:"white"});function J(e,t){var a=e.title,n=e.titleId,r=w(e,["title","titleId"]);return s.createElement("svg",k({width:338,height:147,viewBox:"0 0 338 147",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?s.createElement("title",{id:n},a):null,H,I,M,P,D,V,E,S,F,Z,q,T,R,A,B)}var W=s.forwardRef(J),Y=(a.p,a(8),a(0)),G=function(){var e=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)(o.c,{to:"/driver-login",className:"sign-in-btn driver-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{id:"driver-public",className:"image-overlay"}),Object(Y.jsxs)("div",{className:"main",children:[Object(Y.jsxs)("h1",{className:"home-title",children:["Earn by ",Object(Y.jsx)("br",{}),"your own terms"]}),Object(Y.jsx)("h2",{className:"home-subtitle",children:"Become a driver today."}),Object(Y.jsx)("button",{className:"public-register-btn driver-btn",onClick:function(){e("/driver-register")},children:"Register"})]})]})]})},z=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)("button",{className:"sign-in-btn driver-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay driver-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"login-box",children:[Object(Y.jsxs)("div",{className:"login-tab-switch",children:[Object(Y.jsx)(o.b,{to:"/passenger-login",className:"login-tab",children:"Passenger"}),Object(Y.jsx)(o.b,{to:"/driver-login",className:"login-tab active",children:"Driver"})]}),Object(Y.jsxs)("form",{className:"login-form",onSubmit:function(s){s.preventDefault(),g("driver",s.target.email.value,s.target.phone.value).then((function(s){t.set("dtoken",s.data),t.remove("ptoken"),e.setIsDriverLoggedIn(!0),a("/driver")})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:"example@domain.com",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:"91234567",required:!0}),Object(Y.jsxs)("div",{className:"login-form-actions",children:[Object(Y.jsx)("input",{type:"submit",value:"Submit",className:"driver-btn"}),Object(Y.jsx)(o.b,{to:"/driver-register",className:"signup-text",children:"No account? Sign up here"})]})]})]})})]})]})},X=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)(o.c,{to:"/driver-login",className:"sign-in-btn driver-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay driver-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"registration-box",children:[Object(Y.jsx)("h1",{className:"registration-title",children:"Account Registration"}),Object(Y.jsxs)("div",{className:"login-tab-switch",children:[Object(Y.jsx)(o.b,{to:"/passenger-register",className:"login-tab",children:"Passenger"}),Object(Y.jsx)(o.b,{to:"/driver-register",className:"login-tab active",children:"Driver"})]}),Object(Y.jsxs)("form",{className:"registration-form",onSubmit:function(s){s.preventDefault();var n={email:s.target.email.value,phone:s.target.phone.value,firstName:s.target.firstName.value,lastName:s.target.lastName.value,id:s.target.id.value,licenseNo:s.target.licenseNo.value};O("driver",n).then((function(s){g("driver",n.email,n.phone).then((function(a){t.set("dtoken",a.data),t.remove("ptoken"),e.setIsDriverLoggedIn(!0)})),a("/driver")})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:"example@domain.com",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:"91234567",required:!0})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"First Name"}),Object(Y.jsx)("input",{type:"text",name:"firstName",placeholder:"John",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Last Name"}),Object(Y.jsx)("input",{type:"text",name:"lastName",placeholder:"Tan",required:!0})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"ID"}),Object(Y.jsx)("input",{type:"text",name:"id",placeholder:"T0201234A",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Car License"}),Object(Y.jsx)("input",{type:"text",name:"licenseNo",placeholder:"SGX1234R",required:!0})]}),Object(Y.jsxs)("div",{className:"registration-form-actions",children:[Object(Y.jsx)("input",{type:"submit",className:"driver-btn"}),Object(Y.jsx)(o.b,{to:"/driver-login",className:"signup-text",children:"Login with existing account"})]})]})]})})]})]})},_=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/driver",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/driver",children:"Dashboard"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/driver/profile",children:"Profile"})]}),Object(Y.jsx)("button",{className:"sign-in-btn driver-btn",onClick:function(s){s.preventDefault(),v(t.get("dtoken"),"driver").catch((function(e){alert(e.response.data)})),e.setIsDriverLoggedIn(!1),t.remove("dtoken"),a("/")},children:"Sign Out"})]})},K="http://localhost:5003/api/v1/matcher",Q=function(){var e=Object(b.a)(d.a.mark((function e(t,a,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"post",url:K+"/queue?type=passenger&token="+t,headers:{"Content-Type":"application/json"},data:JSON.stringify({locationPostal:a,destinationPostal:s})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"post",url:K+"/queue?type=driver&token="+t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()({method:"post",url:K+"/trip?token="+t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t=(new y.a).get("dtoken"),a=Object(s.useState)("none"),n=Object(i.a)(a,2),r=n[0],c=n[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new WebSocket("ws://localhost:5003/api/v1/matcher/ws")).onopen=function(){try{a.send("D"+t)}catch(e){alert(e)}},a.onmessage=function(e){"1"===e.data&&(alert("A passenger has been found"),c("found"),a.close())};case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(_,{setIsDriverLoggedIn:e.setIsDriverLoggedIn}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay driver-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"driver-dashboard",children:[Object(Y.jsx)("h2",{children:"Driver Dashboard"}),"none"===r&&Object(Y.jsxs)("div",{className:"driver-action-section",children:[Object(Y.jsxs)("p",{children:["Ready to drive?",Object(Y.jsx)("br",{})," Start searching to be matched with a passenger soon!"]}),Object(Y.jsx)("button",{className:"public-register-btn driver-btn",onClick:function(e){e.preventDefault(),U(t).then((function(){l(),c("searching"),alert("You will now be searching for a passenger")})).catch((function(e){alert(e.response.data)}))},children:"Search"})]}),"searching"===r&&Object(Y.jsxs)("div",{className:"driver-loading-section",children:[Object(Y.jsx)("p",{children:"Waiting for passengers"}),Object(Y.jsx)("div",{className:"loader"})]}),"found"===r&&Object(Y.jsxs)("div",{className:"driver-action-section",children:[Object(Y.jsxs)("p",{children:["Trip in progress...",Object(Y.jsx)("br",{})," Click below to end the trip"]}),Object(Y.jsx)("button",{className:"public-register-btn driver-btn",onClick:function(e){e.preventDefault(),$(t).then((function(){c("none"),alert("Trip has ended, and a record has been saved")})).catch((function(e){alert(e.response.data)}))},children:"End"})]})]})})]})]})},te=function(e){var t=new y.a,a=t.get("dtoken"),n=Object(s.useState)({email:"",phone:"",firstName:"",lastName:"",id:"",licenseNo:""}),r=Object(i.a)(n,2),c=r[0],l=r[1];Object(s.useEffect)((function(){f("driver",a).then((function(e){console.log(e);var t={email:e.data.email,phone:e.data.phone,firstName:e.data.firstName,lastName:e.data.lastName,id:e.data.id,licenseNo:e.data.licenseNo};l(t)}))}),[]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(_,{setIsDriverLoggedIn:e.setIsDriverLoggedIn}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay driver-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"registration-box",children:[Object(Y.jsx)("h1",{className:"registration-title",children:"Edit Profile"}),Object(Y.jsxs)("form",{className:"registration-form",onSubmit:function(e){e.preventDefault();var t={email:e.target.email.value,phone:e.target.phone.value,firstName:e.target.firstName.value,lastName:e.target.lastName.value,licenseNo:e.target.licenseNumber.value,id:e.target.id.value};N("driver",a,t).then((function(t){var a={email:""===e.target.email.value?c.email:e.target.email.value,phone:""===e.target.phone.value?c.phone:e.target.phone.value,firstName:""===e.target.firstName.value?c.firstName:e.target.firstName.value,lastName:""===e.target.lastName.value?c.lastName:e.target.lastName.value,licenseNo:""===e.target.licenseNumber.value?c.licenseNo:e.target.licenseNumber.value,id:c.id};alert("Profile changes have been saved successfully."),e.target.reset(),l(a)})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:c.email}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:c.phone})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"First Name"}),Object(Y.jsx)("input",{type:"text",name:"firstName",placeholder:c.firstName}),Object(Y.jsx)("h5",{className:"label",children:"Last Name"}),Object(Y.jsx)("input",{type:"text",name:"lastName",placeholder:c.lastName})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"Car License"}),Object(Y.jsx)("input",{type:"text",name:"licenseNumber",placeholder:c.licenseNo}),Object(Y.jsx)("h5",{className:"label",children:"ID"}),Object(Y.jsx)("input",{type:"text",name:"id",placeholder:c.id,readOnly:!0})]}),Object(Y.jsxs)("div",{className:"edit-form-actions",children:[Object(Y.jsx)("button",{type:"submit",className:"sign-in-btn passenger-btn",children:"Save Changes"}),Object(Y.jsx)("button",{className:"sign-in-btn delete-acc",onClick:function(e){e.preventDefault(),C("driver",a).then((function(){alert("Account deletion successful"),t.remove("dt")})).catch((function(e){alert(e.response.data)}))},children:"Delete Account"})]})]})]})})]})]})},ae=function(){var e=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)(o.c,{to:"passenger-login",className:"sign-in-btn passenger-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{id:"passenger-public",className:"image-overlay"}),Object(Y.jsxs)("div",{className:"main",children:[Object(Y.jsxs)("h1",{className:"home-title",children:["Getting around ",Object(Y.jsx)("br",{}),"has never been easier"]}),Object(Y.jsx)("h2",{className:"home-subtitle",children:"Hitch a ride whenever, wherever."}),Object(Y.jsx)("button",{className:"public-register-btn passenger-btn",onClick:function(){e("/passenger-register")},children:"Register"})]})]})]})},se=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)(o.c,{to:"/passenger-login",className:"sign-in-btn passenger-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay passenger-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"registration-box",children:[Object(Y.jsx)("h1",{className:"registration-title",children:"Account Registration"}),Object(Y.jsxs)("div",{className:"login-tab-switch",children:[Object(Y.jsx)(o.b,{to:"/passenger-register",className:"login-tab active",children:"Passenger"}),Object(Y.jsx)(o.b,{to:"/driver-register",className:"login-tab",children:"Driver"})]}),Object(Y.jsxs)("form",{className:"registration-form",onSubmit:function(s){s.preventDefault();var n={email:s.target.email.value,phone:s.target.phone.value,firstName:s.target.firstName.value,lastName:s.target.lastName.value};O("passenger",n).then((function(s){g("passenger",n.email,n.phone).then((function(a){t.set("ptoken",a.data),t.remove("dtoken"),e.setIsPassengerLoggedIn(!0)})),a("/passenger")})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:"example@domain.com",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:"91234567",required:!0})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"First Name"}),Object(Y.jsx)("input",{type:"text",name:"firstName",placeholder:"John",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Last Name"}),Object(Y.jsx)("input",{type:"text",name:"lastName",placeholder:"Tan",required:!0})]}),Object(Y.jsxs)("div",{className:"registration-form-actions",children:[Object(Y.jsx)("input",{type:"submit",className:"passenger-btn"}),Object(Y.jsx)(o.b,{to:"/passenger-login",className:"signup-text",children:"Login with existing account"})]})]})]})})]})]})},ne=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/",children:"For Passengers"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/for-drivers",children:"For Drivers"})]}),Object(Y.jsx)("button",{className:"sign-in-btn passenger-btn",children:"Sign In"})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay passenger-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"login-box",children:[Object(Y.jsxs)("div",{className:"login-tab-switch",children:[Object(Y.jsx)(o.b,{to:"/passenger-login",className:"login-tab active",children:"Passenger"}),Object(Y.jsx)(o.b,{to:"/driver-login",className:"login-tab",children:"Driver"})]}),Object(Y.jsxs)("form",{className:"login-form",onSubmit:function(s){s.preventDefault(),g("passenger",s.target.email.value,s.target.phone.value).then((function(s){t.set("ptoken",s.data),t.remove("dtoken"),e.setIsPassengerLoggedIn(!0),a("/passenger")})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:"example@domain.com",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:"91234567",required:!0}),Object(Y.jsxs)("div",{className:"login-form-actions",children:[Object(Y.jsx)("input",{type:"submit",className:"passenger-btn"}),Object(Y.jsx)(o.b,{to:"/passenger-register",className:"signup-text",children:"No account? Sign up here"})]})]})]})})]})]})},re=function(e){var t=new y.a,a=Object(l.g)();return Object(Y.jsxs)("header",{className:"navbar",children:[Object(Y.jsx)(o.c,{to:"/passenger",children:Object(Y.jsx)(W,{className:"nav-logo"})}),Object(Y.jsxs)("div",{className:"nav-links",children:[Object(Y.jsx)(o.c,{className:"nav-link",to:"/passenger",children:"Find Ride"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/passenger/history",children:"History"}),Object(Y.jsx)(o.c,{className:"nav-link",to:"/passenger/profile",children:"Profile"})]}),Object(Y.jsx)("button",{className:"sign-in-btn passenger-btn",onClick:function(s){s.preventDefault(),v(t.get("ptoken"),"passenger").catch((function(e){alert(e.response.data)})),e.setIsPassengerLoggedIn(!1),t.remove("ptoken"),a("/")},children:"Sign Out"})]})},ce=a.p+"static/media/map.88ed60b5.png",ie=a.p+"static/media/moving_car.400fbb06.gif",le=function(e){var t=(new y.a).get("ptoken"),a=Object(s.useState)("none"),n=Object(i.a)(a,2),r=n[0],c=n[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new WebSocket("ws://localhost:5003/api/v1/matcher/ws")).onopen=function(){try{a.send("P"+t)}catch(e){alert(e)}},a.onmessage=function(e){var t=e.data;"1"===t?(alert("A driver has been found!"),c("found")):"2"===t&&(c("none"),alert("You have arrived at your destination!"),a.close())};case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(re,{setIsPassengerLoggedIn:e.setIsPassengerLoggedIn}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay passenger-bg"}),Object(Y.jsxs)("div",{className:"main",children:["none"===r&&Object(Y.jsxs)("div",{className:"request-trip-section",children:[Object(Y.jsxs)("div",{className:"request-trip-inner",children:[Object(Y.jsx)("h1",{children:"Request Trip"}),Object(Y.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),Q(t,e.target.locationPostal.value,e.target.destinationPostal.value).then((function(){l(),c("finding"),alert("Your request for a driver has been submitted successfully!")})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsx)("h5",{className:"label",children:"Location Postal Code"}),Object(Y.jsx)("input",{type:"text",name:"locationPostal",pattern:"[0-9]{6}",placeholder:"599489",required:!0}),Object(Y.jsx)("h5",{className:"label",children:"Destination Postal Code"}),Object(Y.jsx)("input",{type:"text",name:"destinationPostal",pattern:"[0-9]{6}",placeholder:"599489",required:!0}),Object(Y.jsx)("button",{type:"submit",className:"request-btn public-register-btn passenger-btn",children:"Find Trip"})]})]}),Object(Y.jsx)("img",{src:ce,alt:"sample map api",className:"passenger-map"})]}),"finding"===r&&Object(Y.jsx)("div",{className:"passenger-trip-box",children:Object(Y.jsxs)("div",{className:"passenger-loading-section",children:[Object(Y.jsx)("p",{children:"Finding a driver..."}),Object(Y.jsx)("div",{className:"loader"})]})}),"found"===r&&Object(Y.jsx)("div",{className:"passenger-trip-box",children:Object(Y.jsxs)("div",{className:"passenger-loading-section",children:[Object(Y.jsx)("p",{children:"Ride in progress"}),Object(Y.jsx)("img",{src:ie,alt:""})]})})]})]})]})},oe=function(e){var t=new y.a,a=t.get("ptoken"),n=Object(s.useState)({email:"",phone:"",firstName:"",lastName:""}),r=Object(i.a)(n,2),c=r[0],l=r[1];Object(s.useEffect)((function(){f("passenger",a).then((function(e){var t={email:e.data.email,phone:e.data.phone,firstName:e.data.firstName,lastName:e.data.lastName};l(t)}))}),[]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(re,{setIsPassengerLoggedIn:e.setIsPassengerLoggedIn}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay passenger-bg"}),Object(Y.jsx)("div",{className:"main",children:Object(Y.jsxs)("div",{className:"registration-box",children:[Object(Y.jsx)("h1",{className:"registration-title",children:"Edit Profile"}),Object(Y.jsxs)("form",{className:"registration-form",onSubmit:function(e){e.preventDefault();var t={email:e.target.email.value,phone:e.target.phone.value,firstName:e.target.firstName.value,lastName:e.target.lastName.value};N("passenger",a,t).then((function(t){var a={email:""===e.target.email.value?c.email:e.target.email.value,phone:""===e.target.phone.value?c.phone:e.target.phone.value,firstName:""===e.target.firstName.value?c.firstName:e.target.firstName.value,lastName:""===e.target.lastName.value?c.lastName:e.target.lastName.value};alert("Profile changes have been saved successfully."),e.target.reset(),l(a)})).catch((function(e){alert(e.response.data)}))},children:[Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"Email"}),Object(Y.jsx)("input",{type:"email",name:"email",placeholder:c.email}),Object(Y.jsx)("h5",{className:"label",children:"Phone Number"}),Object(Y.jsx)("input",{type:"text",name:"phone",pattern:"[0-9]{8}",placeholder:c.phone})]}),Object(Y.jsxs)("div",{className:"registration-form-row",children:[Object(Y.jsx)("h5",{className:"label",children:"First Name"}),Object(Y.jsx)("input",{type:"text",name:"firstName",placeholder:c.firstName}),Object(Y.jsx)("h5",{className:"label",children:"Last Name"}),Object(Y.jsx)("input",{type:"text",name:"lastName",placeholder:c.lastName})]}),Object(Y.jsxs)("div",{className:"edit-form-actions",children:[Object(Y.jsx)("button",{type:"submit",className:"sign-in-btn passenger-btn",children:"Save Changes"}),Object(Y.jsx)("button",{className:"sign-in-btn delete-acc",onClick:function(e){e.preventDefault(),C("passenger",a).then((function(){alert("Account deletion successful"),t.remove("pt")})).catch((function(e){alert(e.response.data)}))},children:"Delete Account"})]})]})]})})]})]})},je=function(e){var t=(new y.a).get("ptoken"),a=Object(s.useState)([]),n=Object(i.a)(a,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){L(t).then((function(e){var t=[];e.data.forEach((function(e){var a={refID:e.refID,locationPostal:e.locationPostal,destinationPostal:e.destinationPostal,startTime:e.startTime,endTime:e.endTime};t.push(a)})),c(t)})).catch((function(e){alert(e.response.data)}))}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(re,{setIsPassengerLoggedIn:e.setIsPassengerLoggedIn}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"image-overlay passenger-bg"}),Object(Y.jsxs)("div",{className:"main",children:[Object(Y.jsx)("h1",{className:"registration-title",children:"Trip History"}),0!==r.length&&Object(Y.jsx)("table",{className:"history-box",children:Object(Y.jsxs)("tbody",{children:[Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Ref Code"}),Object(Y.jsx)("th",{children:"Start Location"}),Object(Y.jsx)("th",{children:"Destination"}),Object(Y.jsx)("th",{children:"Start Time"}),Object(Y.jsx)("th",{children:"End Time"})]}),r.map((function(e){return Object(Y.jsxs)("tr",{className:"history-row",children:[Object(Y.jsx)("td",{children:e.refID}),Object(Y.jsx)("td",{children:e.locationPostal}),Object(Y.jsx)("td",{children:e.destinationPostal}),Object(Y.jsx)("td",{children:e.startTime}),Object(Y.jsx)("td",{children:e.endTime})]})}))]})}),0===r.length&&Object(Y.jsx)("p",{className:"no-history-msg",children:"No rides have been made yet"})]})]})]})},de=function(e){var t=Object(l.g)(),a=Object(l.f)();return Object(Y.jsxs)("div",{style:{height:"100vh",width:"100vw",backgroundColor:"white"},children:[Object(Y.jsx)("p",{style:{fontSize:"30px"},children:"The page you are looking for does not exist"}),Object(Y.jsx)("button",{className:"public-register-btn passenger-btn",onClick:function(){var s,n;t((null===(s=a.state)||void 0===s||null===(n=s.from)||void 0===n?void 0:n.pathname)||e.rootPath,{replace:!0})},children:"Return"})]})},be=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),c=Object(i.a)(r,2),j=c[0],d=c[1],b=new y.a;return Object(s.useEffect)((function(){var e=b.get("ptoken");void 0!==e?x(e,"passenger").then((function(e){200===e.status&&n(!0)})):void 0!==(e=b.get("dtoken"))&&x(e,"driver").then((function(e){200===e.status&&d(!0)}))}),[]),Object(s.useEffect)((function(){a&&(d(!1),l.a)}),[a]),Object(s.useEffect)((function(){j&&(n(!1),l.a)}),[j]),Object(Y.jsxs)(o.a,{children:[a&&Object(Y.jsxs)(l.d,{children:[Object(Y.jsx)(l.b,{path:"/passenger",element:Object(Y.jsx)(le,{setIsPassengerLoggedIn:n})}),Object(Y.jsx)(l.b,{path:"/passenger/profile",element:Object(Y.jsx)(oe,{setIsPassengerLoggedIn:n})}),Object(Y.jsx)(l.b,{path:"/passenger/history",element:Object(Y.jsx)(je,{setIsPassengerLoggedIn:n})}),Object(Y.jsx)(l.b,{path:"*",element:Object(Y.jsx)(de,{rootPath:"/passenger"})})]}),j&&Object(Y.jsxs)(l.d,{children:[Object(Y.jsx)(l.b,{path:"/driver",element:Object(Y.jsx)(ee,{setIsDriverLoggedIn:d})}),Object(Y.jsx)(l.b,{path:"/driver/profile",element:Object(Y.jsx)(te,{setIsDriverLoggedIn:d})}),Object(Y.jsx)(l.b,{path:"*",element:Object(Y.jsx)(de,{rootPath:"/driver"})})]}),!a&&!j&&Object(Y.jsxs)(l.d,{children:[Object(Y.jsx)(l.b,{path:"/",element:Object(Y.jsx)(ae,{})}),Object(Y.jsx)(l.b,{path:"for-drivers",element:Object(Y.jsx)(G,{})}),Object(Y.jsx)(l.b,{path:"driver-login",element:Object(Y.jsx)(z,{setIsDriverLoggedIn:d})}),Object(Y.jsx)(l.b,{path:"driver-register",element:Object(Y.jsx)(X,{setIsDriverLoggedIn:d})}),Object(Y.jsx)(l.b,{path:"passenger-register",element:Object(Y.jsx)(se,{setIsPassengerLoggedIn:n})}),Object(Y.jsx)(l.b,{path:"passenger-login",element:Object(Y.jsx)(ne,{setIsPassengerLoggedIn:n})}),Object(Y.jsx)(l.b,{path:"*",element:Object(Y.jsx)(de,{rootPath:"/"})})]})]})};c.a.render(Object(Y.jsx)(n.a.StrictMode,{children:Object(Y.jsx)(be,{})}),document.getElementById("root"))},8:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.b7ba96d7.chunk.js.map